{% extends "base.html" %}
{% block content %}
<div class="container">
  <h3 class="mb-4">Глобальный поиск</h3>
  <form class="mb-3" method="get">
    <input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Введите адрес, район, телефон, ID и др.">
  </form>
  {% if props %}
  <div class="table-responsive">
    <table class="table table-sm table-bordered align-middle">
      <thead>
        <tr>
          <th>ID</th><th>Район</th><th>Цена</th><th>Телефон</th><th>Улица</th><th>Действия</th>
        </tr>
      </thead>
      <tbody>
        {% for prop in props %}
        <tr>
          <td>{{ prop.id }}</td>
          <td>{{ prop.district }}</td>
          <td>{{ prop.price }}</td>
          <td>{{ prop.phone }}</td>
          <td>{{ prop.street }}</td>
          <td><a href="{{ url_for('routes.property_detail', property_id=prop.id) }}" class="btn btn-outline-info btn-sm">Открыть</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p>Нет результатов.</p>
  {% endif %}
</div>
{% endblock %}
